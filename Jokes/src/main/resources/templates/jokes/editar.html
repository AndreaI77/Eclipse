<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title th:text="${titulo}"></title>
		 <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
	  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
		<script type="text/javascript" th:src="@{/js/jokes.js}" defer></script>
	</head>
	<body>
		<h1 th:text="${titulo}"></h1>
		
		<form th:action="@{/jokes/editar}" th:object="${joke}" method="post">
			<!--   <div class="errorblock" th:if="$(#fields.hasErrors('*')}">
				<ul>
					<li th:each="err:$(#fields.errors('*')}"
						th:text="${err}">Input is incorrect</li>
				</ul>
			</div> -->
			<fieldset>
				<legend>Actualizar chiste</legend>
				<table>
					  <tr>
					 
						<td>
							<input type="hidden" th:field="*{id}"/>
							<label >Category:</label>
						</td>
						<td>
							<select th:field="*{categories}">
								<option th:each="category : ${categories}" th:value = "${category.id}" 
										th:text="${category.category}" ></option>
							</select>
						</td>	
					</tr>
					<tr>
						<td><label >Languages:</label></td>
						<td>
							<select th:field="*{language}">
								<option th:each="lang : ${language}" th:value = "${lang.id}" 
										th:text="${lang.language}"></option>
							</select>
						</td>	
					</tr>
					<tr>
						<td><label >Types:</label></td>
						<td>
							<select id="tp" th:field="*{types}">
								<option th:each="type : ${types}" th:value = "${type.id}" 
										th:text="${type.type}"></option>
							</select>
						</td>	
					</tr>
                    
					<tr>
						<td><label th:text="${text1}" >Primer texto:</label></td>
						<td><input type="text" th:field="*{text1}" required/></td>
					</tr>
					<tr id="text">					
						<td><label th:text="${text2}">Segundo texto:</label></td>
						<td><input type="text" id="text2" th:field="*{text2}"/></td>					
					</tr>
					<tr>
						<td>Selecciona flags:</td>
					</tr>
					<tr th:each= "flag : ${flags}">
						<td></td>
						<td >
							<input type="checkbox"  th:value="${flag.id}" th:field="*{flagses}"/>
							<label th:text="${flag.flag}"></label>
						</td>
					</tr>
					<tr>
						<td><button class = "btn btn-primary" type= "submit"><i class="bi bi-save"></i> Guardar</button></td>
					</tr>
				</table>
			</fieldset>
		</form>
		<p><a class="btn btn-secondary mt-2" th:href="@{/jokes/listar}"><i class="bi bi-arrow-left me-1"></i>Volver</a></p>
	</body>
</html>